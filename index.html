<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Order Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef;
      padding: 30px;
    }
    form {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 400px;
      margin: auto;
      box-shadow: 0 0 10px #aaa;
    }
    input, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }
    button {
      background: #0b8457;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <form id="orderForm">
    <h2>üì¶ Order Form</h2>
    <input type="text" id="name" placeholder="Customer Name" required>
    <input type="text" id="number" placeholder="Contact Number" required>
    <textarea id="items" placeholder="Order Details" required></textarea>
    <input type="number" id="quantity" placeholder="Quantity" required>
    <button type="submit">Submit Order</button>
  </form>

  <script>
    const BOT_TOKEN = "7619625107:AAENHMSvD5cPL6z_9BOz5HpXJUDs7gC75NQ";
    const CHAT_ID = "8016868219";
    const GOOGLE_SHEET_URL = "https://script.google.com/macros/s/AKfycbxrcN944p4yItv-9cNwdRFJufyh1kTu-jwU3wF54ml0ieuIj7GMHMDycdDG2Sx3vSln/exec";

    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value.trim();
      const number = document.getElementById("number").value.trim();
      const items = document.getElementById("items").value.trim();
      const quantity = document.getElementById("quantity").value.trim();

      const message = `üõí *New Order Received!*\n\nüë§ *Name:* ${name}\nüìû *Number:* ${number}\nüìù *Items:* ${items}\nüî¢ *Quantity:* ${quantity}`;

      // 1. Send to Telegram
      fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message,
          parse_mode: "Markdown"
        })
      });

      // 2. Send to Google Sheets
      fetch(GOOGLE_SHEET_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          name: name,
          number: number,
          items: items,
          quantity: quantity
        })
      })
      .then(response => {
        if (response.ok) {
          alert("‚úÖ Order sent to Telegram and saved to Google Sheet!");
          document.getElementById("orderForm").reset();
        } else {
          alert("‚ùå Failed to save to Google Sheet.");
        }
      })
      .catch(error => {
        alert("‚ö†Ô∏è Error: " + error.message);
      });
    });
  </script>

</body>
</html>